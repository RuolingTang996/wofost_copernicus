#include <stdio.h>#include <string.h>#include <stdlib.h>#include <limits.h>#include <math.h>#include <time.h>#include "wofost.h"#include "extern.h"int GetMeteoData(char* path, char* dateString, char* station){    int c, i, j, day, day_number, start_day;    int year, month;    int end;    int sim_day;    float A, B, Rad, Rainfall, VapourPressure;    char file_1[100];    char file_2[100];    FILE *fq;    //char dummy[100];    char str_year[5];    char str_rest[5];    char str_i[1];    if(sscanf(dateString, "%d-%d-%d", &year, &month, &start_day) != EOF)    {        /* tm_year is years since 1900 */        simTime.tm_year = year;        /* tm_months is months since January */        simTime.tm_mon = month - 1;        simTime.tm_mday = start_day;        /* to start day number from 0 if omitted day numbering starts at -1 */        simTime.tm_hour = 23;        simTime.tm_min  = 59;        simTime.tm_sec  = 59;        mktime(&simTime);        /* start day numbering  at 1*/        day_number =  1; //simTime.tm_yday + 1;      }      if (year > 2099)    {        fprintf(stderr, "Impossible year, check your data\n");         exit(0);    }    /* open first year */    if ((fq = fopen(file_1, "rt")) == NULL)        {fprintf(stderr, "Cannot open 1st input file.\n"); return 0;}    /* skip lines in the header */     while ((c=fgetc(fq)) == '*')         while ((c=fgetc(fq)) != '\n');    fscanf(fq,"%f %f %f %f %f", &Longitude, &Latitude, &Altitude,  &A, &B);    AngstA = fabs(A);    AngstB = fabs(B);    for (i=day_number;i<=METEO_LENGTH;i++)    {            /* Set first index to 1 i.e. first simulation day */        sim_day = i - day_number  +1;        fscanf(fq,"%d %d %d %f %f %f %f %f %f", &Station, &Year, &day, &Rad,                                          &Tmin[sim_day],                                           &Tmax[sim_day],                                           &VapourPressure,                                          &Windspeed[sim_day],                                           &Rainfall);                /* Transform Radiation from KJ m-2 d-1 to J m-2 d-1 */        Radiation[sim_day] = 1000.*Rad;                /* Transform Rain from mm d-1 to cm d-1 */        Rain[sim_day] = 0.1 * Rainfall;                /* Transform Vapour from kPa to hPa*/        Vapour[sim_day] = 10. * VapourPressure;                MeteoYear[sim_day] = Year;        MeteoDay[sim_day]  = day;          }    fclose(fq);     return 1;}